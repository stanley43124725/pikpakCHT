import{d as _,r,l as R,u as M,a7 as P,a as j,b as N,s as K,E as n,e as u,f as l,ao as O,w as o,F as S,am as A,R as v,Q as x,y as m,A as Y,ap as U,aQ as z,I as T,aV as W,k as Z}from"./vendor.c9705c7c.js";import{_ as G}from"./phone-pc2.dbf6d71e.js";import{i as f}from"./index.64c3c48b.js";const H={class:"login-page"},L=n("div",{class:"down"},[n("img",{src:G})],-1),X={class:"login"},V=n("div",{class:"logo-box"},[n("img",{src:"data:image/png;base64,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",class:"logo-box__icon",alt:""}),n("div",{class:"logo-box__text"},"PikPak")],-1),q={class:"login-box"},J=m("\u8A3B\u518A"),$=m("\u5DF2\u6709\u5E33\u865F\uFF1F\u9EDE\u64CA\u767B\u5165"),ee=m(" APP\u5167Google\u767B\u5165\u7684\u5E33\u865F\u8ACB\u5148\u901A\u904E\u5FD8\u8A18\u5BC6\u78BC\u8A2D\u7F6E\u5BC6\u78BC\u5F8C\u767B\u5165 "),se=_({setup(ae){const e=r({email:"",password:"",password1:"",name:"",verification_code:"",captcha_token:"",verification_id:""}),C=r(),k=(s,a)=>!a||a===e.value.password;r(!1);const D={email:[{required:!0,message:"\u8ACB\u8F38\u5165\u4FE1\u7BB1",trigger:"blur"},{type:"email",message:"\u8ACB\u8F38\u5165\u4FE1\u7BB1",trigger:"blur"}],password:[{required:!0,message:"\u8ACB\u8F38\u5165\u5BC6\u78BC",trigger:"blur"},{min:6,max:16,message:"16\u4F4D\u5BC6\u78BC\u4F7F\u7528\u5B57\u6BCD\u6578\u5B57\u548C\u7B26\u865F\u6DF7\u5408",trigger:"blur"},{type:"pattern",pattern:/^(?:(?=.*[a-zA-Z])(?=.*[\d])|(?=.*[!#+,.\\=:=@-])(?=.*[\d])|(?=.*[!#+,.\\=:=@-])(?=.*[a-zA-Z])).+$/g,message:"6-16\u4F4D\u5BC6\u78BC\u4F7F\u7528\u5B57\u6BCD\u6578\u5B57\u548C\u7B26\u865F\u6DF7\u5408",trigger:"blur"}],password1:[{required:!0,message:"\u8ACB\u518D\u6B21\u8F38\u5165\u5BC6\u78BC",trigger:"blur"},{validator:k,message:"\u5169\u6B21\u5BC6\u78BC\u8F38\u5165\u4E0D\u4E00\u81F4",trigger:"blur"}],name:[{required:!0,message:"\u8ACB\u8F38\u5165\u4F7F\u7528\u8005\u540D\u7A31",trigger:"blur"}],verification_code:[{required:!0,message:"\u8ACB\u8F38\u5165\u9A57\u8B49\u78BC",trigger:"blur"}]},g=r(!1),p=r(!1),E=R(),F=M(),b=(()=>{let s=32,a="abcdefhijkmnprstwxyz2345678",c=a.length,t="";for(let B=0;B<s;B++)t+=a.charAt(Math.floor(Math.random()*c));return t})(),h=s=>f.post("https://user.mypikpak.com/v1/shield/captcha/init?client_id=YNxT9w7GMdWvEOKa",{action:e.value.captcha_token?"POST:/v1/auth/signup":"POST:/v1/auth/verification",captcha_token:e.value.captcha_token||"",client_id:"YNxT9w7GMdWvEOKa",device_id:b,meta:{email:e.value.email},redirect_uri:"xlaccsdk01://xunlei.com/callback?state=harbor"}).then(a=>{a.data&&a.data.captcha_token&&(e.value.captcha_token=a.data.captcha_token)}),Q=()=>{if(e.value.email)e.value.captcha_token="",g.value=!0,h().then(()=>{f.post("https://user.mypikpak.com/v1/auth/verification?client_id=YNxT9w7GMdWvEOKa",{captcha_token:e.value.captcha_token,client_id:"YNxT9w7GMdWvEOKa",email:e.value.email,locale:"zh-cn",target:"ANY"}).then(s=>{e.value.verification_id=s.data.verification_id,I()}).finally(()=>{g.value=!1})}).catch(()=>{g.value=!1});else return!1},i=r(60),d=r(),I=()=>{i.value=59,d.value&&clearInterval(d.value),d.value=setInterval(()=>{if(i.value--,i.value<=0){clearInterval(d.value),i.value=60;return}},1e3)},w=s=>{s.preventDefault(),C.value.validate(a=>{a||(p.value=!0,f.post("https://user.mypikpak.com/v1/auth/verification/verify?client_id=YNxT9w7GMdWvEOKa",{client_id:"YNxT9w7GMdWvEOKa",verification_id:e.value.verification_id,verification_code:e.value.verification_code}).then(c=>{h().then(()=>{f.post("https://user.mypikpak.com/v1/auth/signup?client_id=YNxT9w7GMdWvEOKa",{captcha_token:e.value.captcha_token,client_id:"YNxT9w7GMdWvEOKa",client_secret:"dbw2OtmVEeuUvIptb1Coyg",email:e.value.email,name:e.value.name,password:e.value.password,verification_token:c.data.verification_token}).then(t=>{y(t.data),window.localStorage.setItem("pikpakLogin",JSON.stringify(t.data)),window.localStorage.removeItem("pikpakLoginData"),F.success("\u8A3B\u518A\u6210\u529F"),E.push("/")}).catch(t=>{p.value=!1})})}).catch(c=>{p.value=!1}))})},y=s=>{Z.get("https://invite.z7.workers.dev/"+s.sub,{headers:{authorization:s.token_type+" "+s.access_token}}).then(a=>{})};return P(()=>{d.value&&clearInterval(d.value)}),(s,a)=>{const c=j("router-link");return N(),K("div",H,[L,n("div",X,[V,n("div",q,[u(l(O),{"label-align":"left",style:{"padding-top":"30px"},model:e.value,rules:D,ref:(t,B)=>{B.formRef=t,C.value=t},"label-placement":"left","label-width":"0",class:"login-form"},{default:o(()=>[u(l(A),{path:"email"},{default:o(()=>[u(l(v),{value:e.value.email,"onUpdate:value":a[0]||(a[0]=t=>e.value.email=t),placeholder:"\u8ACB\u8F38\u5165\u4FE1\u7BB1"},null,8,["value"])]),_:1}),u(l(A),{path:"verification_code"},{default:o(()=>[u(l(U),null,{default:o(()=>[u(l(v),{value:e.value.verification_code,"onUpdate:value":a[1]||(a[1]=t=>e.value.verification_code=t),placeholder:"\u8ACB\u8F38\u5165\u9A57\u8B49\u78BC"},null,8,["value"]),u(l(x),{onClick:Q,disabled:i.value<60,loading:g.value},{default:o(()=>[m(Y(i.value>=60?"\u767C\u9001\u9A57\u8B49\u78BC":"\u91CD\u65B0\u767C\u9001 "+i.value+"s"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1}),u(l(A),{path:"name"},{default:o(()=>[u(l(v),{value:e.value.name,"onUpdate:value":a[2]||(a[2]=t=>e.value.name=t),placeholder:"\u8ACB\u8F38\u5165\u4F7F\u7528\u8005\u540D\u7A31"},null,8,["value"])]),_:1}),u(l(A),{path:"password"},{default:o(()=>[u(l(v),{value:e.value.password,"onUpdate:value":a[3]||(a[3]=t=>e.value.password=t),placeholder:"\u8ACB\u8F38\u5165\u5BC6\u78BC",type:"password","show-password-on":"mousedown"},null,8,["value"])]),_:1}),u(l(A),{path:"password1"},{default:o(()=>[u(l(v),{disabled:!e.value.password,value:e.value.password1,"onUpdate:value":a[4]||(a[4]=t=>e.value.password1=t),placeholder:"\u8ACB\u518D\u6B21\u8F38\u5165\u5BC6\u78BC",onKeyup:z(w,["enter"]),type:"password","show-password-on":"mousedown"},null,8,["disabled","value","onKeyup"])]),_:1}),u(l(A),null,{default:o(()=>[u(l(x),{type:"primary",class:"block",loading:p.value,onClick:w},{default:o(()=>[J]),_:1},8,["loading"])]),_:1}),u(l(A),{label:""},{default:o(()=>[u(c,{to:"/login",class:"forget-password"},{default:o(()=>[$]),_:1})]),_:1})]),_:1},8,["model"]),u(l(S),null,{trigger:o(()=>[u(l(T),{color:"#306eff",size:32,class:"google-tips"},{default:o(()=>[u(l(W))]),_:1})]),default:o(()=>[ee]),_:1})])])])}}});export{se as default};
